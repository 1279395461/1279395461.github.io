import{u as w,r as h,a as y,s as G,c as m,d as o,b as e,w as a,F as P,l as q,k as B,C as H,D as T,f as c,o as b,e as l,i as d,A as r,x as V}from"./index-3UtpE0ST.js";import{H as $,n as F}from"./navigator-C92a063l.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"container"},A={class:"content"},E=["src"],L={class:"goodsDiv goodsHover"},M=["src"],J={cellspacing:"5px",width:"900px",height:"150px"},K={class:"descSpan"},O={class:"bottomTr"},Q={style:{"font-size":"13px"}},W={style:{"margin-bottom":"10px",display:"flex","justify-content":"center","align-items":"center"}},X={__name:"index",setup(Y){const _=q(),I=B(),N=w();let t=h({stuId:null,phoneNumber:null,institute:null,studentNumber:null,profilePictureUrl:null}),i=h({stuId:null,pageNum:1,pageSize:5}),f=y([]),v=y(0);async function z(){console.log(_.query.stuId);let{stuUser:s}=await H(_.query.stuId);t.stuId=s.stuId,t.username=s.username,t.phoneNumber=s.phoneNumber,t.institute=s.institute,t.studentNumber=s.studentNumber,t.profilePictureUrl=s.profilePictureUrl,i.stuId=s.stuId,g(),console.log(t)}async function g(){console.log(i);let{pageInfo:s}=await T(i);f.value=s.pageData,console.log(f.value),v.value=s.totalSize}function S(s){I.push({name:"goodsDeatil",query:{goodsId:s}})}return G(()=>{N.stuId==_.query.stuId&&I.push({name:"personalInfo"}),z()}),(s,u)=>{const p=c("el-descriptions-item"),C=c("el-descriptions"),x=c("el-tab-pane"),D=c("el-button"),U=c("el-pagination"),k=c("el-tabs");return b(),m(P,null,[o($),e("div",j,[o(F),e("div",A,[o(k,{class:"tabsDiv"},{default:a(()=>[o(x,{label:"他人信息",class:"pane"},{default:a(()=>[e("img",{src:l(t).profilePictureUrl,alt:"",class:"profilePicture"},null,8,E),o(C,{column:"1"},{default:a(()=>[o(p,{label:"学生id："},{default:a(()=>[d(r(l(t).stuId),1)]),_:1}),o(p,{label:"用户名："},{default:a(()=>[d(r(l(t).username),1)]),_:1}),o(p,{label:"手机号码："},{default:a(()=>[d(r(l(t).phoneNumber),1)]),_:1}),o(p,{label:"学院："},{default:a(()=>[d(r(l(t).institute),1)]),_:1}),o(p,{label:"学号："},{default:a(()=>[d(r(l(t).studentNumber),1)]),_:1})]),_:1})]),_:1}),o(x,{label:"他的商品",class:"goodsPane"},{default:a(()=>[(b(!0),m(P,null,V(l(f),(n,Z)=>(b(),m("div",L,[e("img",{src:n.profilePictureUrl,alt:"",class:"goodsPicture"},null,8,M),e("table",J,[e("tbody",null,[e("tr",null,[e("span",null,"商品Id："+r(n.goodsId),1)]),e("tr",null,[e("span",null,"标题："+r(n.title),1)]),e("tr",null,[d("商品描述："),e("span",K,r(n.description),1)])]),e("tr",O,[e("span",Q," 上架时间："+r(n.createTime),1),o(D,{class:"elButton",type:"primary",onClick:ee=>S(n.goodsId)},{default:a(()=>[d("查看详情")]),_:2},1032,["onClick"])])])]))),256)),e("div",W,[o(U,{"current-page":l(i).pageNum,"onUpdate:currentPage":u[0]||(u[0]=n=>l(i).pageNum=n),"page-size":l(i).pageSize,"onUpdate:pageSize":u[1]||(u[1]=n=>l(i).pageSize=n),onSizeChange:u[2]||(u[2]=n=>g()),onCurrentChange:u[3]||(u[3]=n=>g()),"page-sizes":[5,7,10],background:"",layout:"prev, pager, next , ->, sizes, total",total:l(v)},null,8,["current-page","page-size","total"])])]),_:1})]),_:1})])])],64)}}},ne=R(X,[["__scopeId","data-v-0e8ef85f"]]);export{ne as default};
