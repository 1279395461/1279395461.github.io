/* empty css                         */import{r as k,a as y,c as _,b as u,d as o,w as n,e as s,m as P,n as U,E as S,f as d,o as h,q,i as C,p as B,j as E,k as I}from"./index-3UtpE0ST.js";import{a as R,b as j,v as F,c as z}from"./validate-utils-BKYPeU4w.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const g=m=>(B("data-v-75d8f89c"),m=m(),E(),m),$={class:"base"},M={style:{display:"flex"}},T=g(()=>u("h1",null,"校园二手商品交易平台",-1)),A={class:"bg"},G={class:"registerDiv flex"},H=g(()=>u("h1",null,"欢迎注册",-1)),J={class:"nInputs"},K={key:0,class:"message"},L={class:"buttonDiv"},O={__name:"index",setup(m){let b=I(),l=k({username:null,password:null,checkPassword:null,phoneNumber:null,studentNumber:null}),c=y();function f(a,e,r){e?l.password!=e?r(new Error("两次密码输入不一致！")):r():r(new Error("请重新输入密码！"))}const w={username:[{required:!0,validator:R,trigger:["blur","change"]}],password:[{required:!0,validator:j,trigger:["blur","change"]}],checkPassword:[{required:!0,validator:f,trigger:["blur","change"]}],phoneNumber:[{required:!0,validator:F,trigger:["blur","change"]}],studentNumber:[{required:!0,validator:z,trigger:["blur","change"]}]};async function v(){var e,r;await((e=c.value)==null?void 0:e.validate()),await P();let a={username:null,password:null,phoneNumber:null,studentNumber:null,profilePictureUrl:"https://hjw-upload-picture.oss-cn-guangzhou.aliyuncs.com/stu/defaultStuProfile.png"};a.password=l.password,a.username=l.username,a.phoneNumber=l.phoneNumber,a.studentNumber=l.studentNumber,console.log(a),await U(a),(r=c.value)==null||r.resetFields(),S.success("注册成功！"),b.push({name:"/login"})}return(a,e)=>{const r=d("ShoppingBag"),N=d("el-icon"),p=d("el-input"),i=d("el-form-item"),V=d("el-form"),x=d("el-button");return h(),_("div",$,[u("div",M,[o(N,{size:"70px",color:"#2b73af"},{default:n(()=>[o(r)]),_:1}),T]),u("div",A,[u("div",G,[H,o(V,{"label-width":"auto",model:s(l),rules:w,ref_key:"ruleFormRef",ref:c},{default:n(()=>[u("div",J,[o(i,{label:"用户名：",prop:"username"},{default:n(()=>[o(p,{type:"text",clearable:"",placeholder:"请输入2-10位的数字、字母或汉字",class:"ninput",modelValue:s(l).username,"onUpdate:modelValue":e[0]||(e[0]=t=>s(l).username=t),maxlength:"10"},null,8,["modelValue"]),a.isUsed?(h(),_("span",K,"用户名已被占用！")):q("",!0)]),_:1}),o(i,{label:"密码：",prop:"password"},{default:n(()=>[o(p,{type:"password",clearable:"",placeholder:"请输入8-20位的数字、字母或字符",class:"ninput",modelValue:s(l).password,"onUpdate:modelValue":e[1]||(e[1]=t=>s(l).password=t),maxlength:"20","show-password":""},null,8,["modelValue"])]),_:1}),o(i,{label:"确认密码：",prop:"checkPassword"},{default:n(()=>[o(p,{type:"password",clearable:"",placeholder:"请重新输入密码",class:"ninput",modelValue:s(l).checkPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s(l).checkPassword=t),maxlength:"20","show-password":""},null,8,["modelValue"])]),_:1}),o(i,{label:"手机号：",prop:"phoneNumber"},{default:n(()=>[o(p,{type:"text",clearable:"",placeholder:"请输入11位有效手机号",class:"ninput",modelValue:s(l).phoneNumber,"onUpdate:modelValue":e[3]||(e[3]=t=>s(l).phoneNumber=t),maxlength:"11"},null,8,["modelValue"])]),_:1}),o(i,{label:"学号：",prop:"studentNumber"},{default:n(()=>[o(p,{type:"text",clearable:"",placeholder:"请输入12位学号",class:"ninput",modelValue:s(l).studentNumber,"onUpdate:modelValue":e[4]||(e[4]=t=>s(l).studentNumber=t),maxlength:"12"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model"]),u("div",L,[o(x,{class:"nbutton",color:"rgb(6, 225, 167)","text-color":"black",onClick:e[5]||(e[5]=t=>v())},{default:n(()=>[C("注册")]),_:1})]),u("div",{style:{cursor:"pointer"},onClick:e[6]||(e[6]=t=>s(b).go(-1))},"已有账号？去登陆吧")])])])}}},Z=D(O,[["__scopeId","data-v-75d8f89c"]]);export{Z as default};
